---
layout: ../../layouts/MaterialLayout.astro
title: SpecKit å®Œæ•´å­¦ä¹ æŒ‡å—
description: æ·±å…¥äº†è§£ GitHub SpecKit çš„æ¶æ„ã€è®¾è®¡ã€ç»„ä»¶å’Œä½¿ç”¨æ–¹æ³• - è§„èŒƒé©±åŠ¨å¼€å‘ä»å…¥é—¨åˆ°ç²¾é€š
category: æ¦‚å¿µä¸ç†è®º
---

import Mermaid from '../../components/materials/Mermaid';
import ScrollReveal from '../../components/ui/ScrollReveal';
import ExampleCode from '../../components/materials/ExampleCode';

# SpecKit å®Œæ•´å­¦ä¹ æŒ‡å—

## ç›®å½•

1. [ä»€ä¹ˆæ˜¯ SpecKit](#ä»€ä¹ˆæ˜¯-speckit)
2. [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
3. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
4. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
5. [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
6. [å®‰è£…ä¸é…ç½®](#å®‰è£…ä¸é…ç½®)
7. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
8. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
9. [å®æˆ˜æ¡ˆä¾‹](#å®æˆ˜æ¡ˆä¾‹)

---

## ä»€ä¹ˆæ˜¯ SpecKit

**SpecKit** æ˜¯ç”± GitHub å¼€æºçš„è§„èŒƒé©±åŠ¨å¼€å‘ï¼ˆSpec-Driven Development, SDDï¼‰å·¥å…·åŒ…ï¼Œå®ƒé€šè¿‡å°†"è§„èŒƒå˜ä¸ºå¯æ‰§è¡Œ"çš„æ–¹å¼ï¼Œå½»åº•æ”¹å˜äº†ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æµç¨‹ã€‚

### æ ¸å¿ƒç†å¿µ

ä¼ ç»Ÿå¼€å‘æµç¨‹ï¼š**éœ€æ±‚ â†’ ç¼–ç  â†’ æµ‹è¯• â†’ æ–‡æ¡£**

SpecKit å¼€å‘æµç¨‹ï¼š**è§„èŒƒ â†’ AI æ‰§è¡Œ â†’ è‡ªåŠ¨å®ç° â†’ æŒç»­æ¼”è¿›**

### ä¸»è¦ç‰¹ç‚¹

- **è§„èŒƒå³æºç **ï¼šè§„èŒƒä¸å†æ˜¯ä¸€æ¬¡æ€§çš„è®¾è®¡æ–‡æ¡£ï¼Œè€Œæ˜¯é¡¹ç›®çš„æ ¸å¿ƒèµ„äº§
- **AI åŸç”Ÿ**ï¼šæ·±åº¦é›†æˆ 14+ ç§ AI ç¼–ç åŠ©æ‰‹ï¼ˆClaude Code, GitHub Copilot, Cursor ç­‰ï¼‰
- **ç»“æ„åŒ–å¼€å‘**ï¼šé€šè¿‡æ˜ç¡®çš„é˜¶æ®µå’Œå‘½ä»¤ï¼Œç¡®ä¿å¼€å‘è¿‡ç¨‹å¯æ§ã€å¯è¿½æº¯
- **å¼€æºå…è´¹**ï¼šMIT è®¸å¯è¯ï¼ŒGitHub 28K+ stars

---

## æ ¸å¿ƒæ¦‚å¿µ

### Spec-Driven Development (SDD)

è§„èŒƒé©±åŠ¨å¼€å‘æ˜¯ä¸€ç§ä»¥è§„èŒƒä¸ºä¸­å¿ƒçš„å¼€å‘æ–¹æ³•è®ºï¼ŒåŒ…å«ä¸‰ä¸ªå±‚æ¬¡ï¼š

<Mermaid chart={`graph TD
    A[Spec-First<br/>è§„èŒƒä¼˜å…ˆ] --> B[Spec-Anchored<br/>è§„èŒƒé”šå®š]
    B --> C[Spec-as-Source<br/>è§„èŒƒå³æºç ]

    A1[å…ˆå†™è§„èŒƒå†å¼€å‘] --> A
    B1[è§„èŒƒç”¨äºæŒç»­æ¼”è¿›] --> B
    C1[åªä¿®æ”¹è§„èŒƒ<br/>ä»£ç è‡ªåŠ¨ç”Ÿæˆ] --> C

    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#e1ffe1`} client:load />

#### 1. Spec-Firstï¼ˆè§„èŒƒä¼˜å…ˆï¼‰
åœ¨å¼€å‘ä¹‹å‰ç¼–å†™è¯¦ç»†çš„è§„èŒƒæ–‡æ¡£ï¼Œç”¨äºæŒ‡å¯¼ AI è¾…åŠ©å¼€å‘ã€‚

#### 2. Spec-Anchoredï¼ˆè§„èŒƒé”šå®šï¼‰
å¼€å‘å®Œæˆåä¿ç•™è§„èŒƒï¼Œç”¨äºåŠŸèƒ½æ¼”è¿›å’Œç»´æŠ¤ã€‚

#### 3. Spec-as-Sourceï¼ˆè§„èŒƒå³æºç ï¼‰
è§„èŒƒæˆä¸ºå”¯ä¸€çš„æºæ–‡ä»¶ï¼Œäººç±»åªä¿®æ”¹è§„èŒƒï¼ŒAI è´Ÿè´£æ›´æ–°ä»£ç ã€‚

---

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

<Mermaid chart={`graph TB
    subgraph "å¼€å‘è€…å±‚"
        DEV[å¼€å‘è€…]
        AI[AI ç¼–ç åŠ©æ‰‹<br/>Claude/Copilot/Cursor]
    end

    subgraph "SpecKit æ ¸å¿ƒ"
        CLI[Specify CLI]
        CMDS[Slash Commands]
        TEMPLATES[æ¨¡æ¿ç³»ç»Ÿ]
    end

    subgraph "è§„èŒƒä½“ç³»"
        CONST[Constitution<br/>å®ªæ³•æ–‡æ¡£]
        SPEC[Specification<br/>è§„èŒƒæ–‡æ¡£]
        PLAN[Plan<br/>æŠ€æœ¯æ–¹æ¡ˆ]
        TASKS[Tasks<br/>ä»»åŠ¡åˆ†è§£]
        IMPL[Implementation<br/>ä»£ç å®ç°]
    end

    subgraph "è¾“å‡ºäº§ç‰©"
        CODE[æºä»£ç ]
        TESTS[æµ‹è¯•ä»£ç ]
        DOCS[æ–‡æ¡£]
    end

    DEV --> CLI
    DEV --> AI
    AI --> CMDS
    CLI --> CONST
    CMDS --> SPEC
    CMDS --> PLAN
    CMDS --> TASKS
    CMDS --> IMPL

    CONST --> SPEC
    SPEC --> PLAN
    PLAN --> TASKS
    TASKS --> IMPL

    IMPL --> CODE
    IMPL --> TESTS
    IMPL --> DOCS

    style CONST fill:#ff6b6b
    style SPEC fill:#4ecdc4
    style PLAN fill:#45b7d1
    style TASKS fill:#f7dc6f
    style IMPL fill:#95e1d3`} client:load />

### æ¶æ„å±‚æ¬¡è¯´æ˜

#### 1. **å¼€å‘è€…å±‚**
- å¼€å‘è€…é€šè¿‡ CLI æˆ– AI åŠ©æ‰‹ä¸ SpecKit äº¤äº’
- AI åŠ©æ‰‹è´Ÿè´£ç†è§£è§„èŒƒå¹¶ç”Ÿæˆä»£ç 

#### 2. **SpecKit æ ¸å¿ƒ**
- **Specify CLI**: å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›é¡¹ç›®åˆå§‹åŒ–å’Œæ£€æŸ¥åŠŸèƒ½
- **Slash Commands**: ç»“æ„åŒ–å‘½ä»¤é›†ï¼Œæ§åˆ¶å¼€å‘æµç¨‹å„é˜¶æ®µ
- **æ¨¡æ¿ç³»ç»Ÿ**: æä¾›æ ‡å‡†åŒ–çš„æ–‡æ¡£æ¨¡æ¿

#### 3. **è§„èŒƒä½“ç³»**
äº”ä¸ªæ ¸å¿ƒåˆ¶å“ï¼ˆArtifactsï¼‰ï¼Œå½¢æˆå®Œæ•´çš„è§„èŒƒé“¾ï¼š
- Constitution â†’ Specification â†’ Plan â†’ Tasks â†’ Implementation

#### 4. **è¾“å‡ºäº§ç‰©**
æ ¹æ®è§„èŒƒè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ã€æµ‹è¯•å’Œæ–‡æ¡£

---

## æ ¸å¿ƒç»„ä»¶

### ç»„ä»¶å…³ç³»å›¾

<Mermaid chart={`graph LR
    subgraph "åŸºç¡€å‘½ä»¤"
        INIT[specify init]
        CHECK[specify check]
    end

    subgraph "æ ¸å¿ƒå‘½ä»¤"
        CONST["speckit.constitution"]
        SPEC["speckit.specify"]
        PLAN["speckit.plan"]
        TASKS["speckit.tasks"]
        IMPL["speckit.implement"]
    end

    subgraph "è¾…åŠ©å‘½ä»¤"
        CLARIFY["speckit.clarify"]
        ANALYZE["speckit.analyze"]
        CHECKLIST["speckit.checklist"]
    end

    INIT --> CONST
    CHECK --> CONST

    CONST --> SPEC
    SPEC --> CLARIFY
    CLARIFY --> PLAN
    SPEC --> PLAN
    PLAN --> TASKS
    TASKS --> IMPL

    ANALYZE -.æ£€æŸ¥.-> SPEC
    ANALYZE -.æ£€æŸ¥.-> PLAN
    ANALYZE -.æ£€æŸ¥.-> TASKS

    CHECKLIST -.éªŒè¯.-> IMPL

    style INIT fill:#a8dadc
    style CHECK fill:#a8dadc
    style CONST fill:#ff6b6b
    style SPEC fill:#4ecdc4
    style PLAN fill:#45b7d1
    style TASKS fill:#f7dc6f
    style IMPL fill:#95e1d3
    style CLARIFY fill:#dda15e
    style ANALYZE fill:#dda15e
    style CHECKLIST fill:#dda15e`} client:load />

### 1. åŸºç¡€å‘½ä»¤ï¼ˆCLIï¼‰

#### `specify init <project-name>`
åˆå§‹åŒ–æ–°é¡¹ç›®ï¼Œåˆ›å»º `.speckit/` ç›®å½•å’Œé…ç½®æ–‡ä»¶ã€‚

**åŠŸèƒ½**ï¼š
- åˆ›å»ºé¡¹ç›®éª¨æ¶
- é…ç½® AI åŠ©æ‰‹é›†æˆ
- ç”Ÿæˆé»˜è®¤æ¨¡æ¿

**ç¤ºä¾‹**ï¼š
```bash
specify init my-app
```

#### `specify check`
æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå’Œä¾èµ–ã€‚

**åŠŸèƒ½**ï¼š
- éªŒè¯ AI åŠ©æ‰‹é…ç½®
- æ£€æŸ¥å¿…è¦å·¥å…·å®‰è£…
- æ˜¾ç¤ºå½“å‰é¡¹ç›®çŠ¶æ€

---

### 2. æ ¸å¿ƒå‘½ä»¤ï¼ˆSlash Commandsï¼‰

#### `/speckit.constitution`
å®šä¹‰é¡¹ç›®çš„ä¸å¯åå•†è§„åˆ™å’Œå¼€å‘æŒ‡å—ã€‚

**ç”¨é€”**ï¼š
- ç¼–ç è§„èŒƒï¼ˆä»£ç é£æ ¼ã€å‘½åçº¦å®šï¼‰
- æ¶æ„åŸåˆ™ï¼ˆDRYã€SOLID ç­‰ï¼‰
- å®‰å…¨è¦æ±‚
- æ€§èƒ½æ ‡å‡†
- æµ‹è¯•ç­–ç•¥

**ç¤ºä¾‹å†…å®¹**ï¼š

<ExampleCode
  title="Constitution ç¤ºä¾‹ - constitution.md"
  language="markdown"
  code={`# Project Constitution

## Coding Standards
- Use TypeScript with strict mode
- Follow Airbnb style guide
- Maximum function length: 50 lines

## Architecture Principles
- Clean Architecture with dependency injection
- Domain-Driven Design for business logic
- Repository pattern for data access

## Testing Requirements
- Minimum 80% code coverage
- Unit tests for all business logic
- Integration tests for API endpoints`}
  client:load
/>

---

#### `/speckit.specify`
æè¿°è¦æ„å»ºçš„åŠŸèƒ½ï¼Œå…³æ³¨"æ˜¯ä»€ä¹ˆ"å’Œ"ä¸ºä»€ä¹ˆ"ã€‚

**å…³é”®è¦ç´ **ï¼š
- ç”¨æˆ·æ•…äº‹
- åŠŸèƒ½éœ€æ±‚
- éåŠŸèƒ½éœ€æ±‚
- è¾¹ç•Œæ¡ä»¶
- éªŒæ”¶æ ‡å‡†

**ç¤ºä¾‹**ï¼š

<ExampleCode
  title="Specification ç¤ºä¾‹ - specification.md"
  language="markdown"
  code={`# Feature Specification: User Authentication

## User Stories
**As a** user
**I want** to securely log in with email and password
**So that** I can access my personalized dashboard

## Functional Requirements
1. Email validation (RFC 5322 format)
2. Password strength requirements:
   - Minimum 8 characters
   - At least one uppercase, lowercase, number, and special character
3. Account lockout after 5 failed attempts
4. Password reset via email

## Non-Functional Requirements
- Authentication response time < 200ms
- Support 10,000 concurrent users
- WCAG 2.1 AA accessibility compliance

## Acceptance Criteria
- [ ] User can register with valid email/password
- [ ] User receives confirmation email
- [ ] User can log in with correct credentials
- [ ] Invalid credentials show clear error messages`}
  client:load
/>

---

#### `/speckit.clarify`
é€šè¿‡ç³»ç»ŸåŒ–æé—®æ¶ˆé™¤è§„èŒƒä¸­çš„æ¨¡ç³Šæ€§ã€‚

**å·¥ä½œæ–¹å¼**ï¼š
- AI è‡ªåŠ¨è¯†åˆ«ä¸æ˜ç¡®çš„éœ€æ±‚
- æå‡ºå…·ä½“çš„æ¾„æ¸…é—®é¢˜
- è®°å½•ç­”æ¡ˆåˆ° Clarifications éƒ¨åˆ†

**ç¤ºä¾‹äº¤äº’**ï¼š
```
AI: å…³äº"è´¦æˆ·é”å®š"åŠŸèƒ½ï¼Œè¯·æ¾„æ¸…ï¼š
1. é”å®šæŒç»­æ—¶é—´æ˜¯å¤šä¹…ï¼Ÿ
2. é”å®šåæ˜¯å¦å‘é€é€šçŸ¥é‚®ä»¶ï¼Ÿ
3. ç®¡ç†å‘˜æ˜¯å¦å¯ä»¥æ‰‹åŠ¨è§£é”è´¦æˆ·ï¼Ÿ

Developer:
1. é”å®š 30 åˆ†é’Ÿåè‡ªåŠ¨è§£é”
2. å‘é€åŒ…å«è§£é”é“¾æ¥çš„é€šçŸ¥é‚®ä»¶
3. ç®¡ç†å‘˜å¯é€šè¿‡åå°è§£é”

AI: å·²è®°å½•æ¾„æ¸…å†…å®¹åˆ° specification.md
```

---

#### `/speckit.plan`
åˆ¶å®šæŠ€æœ¯å®ç°æ–¹æ¡ˆï¼Œé€‰æ‹©æŠ€æœ¯æ ˆå’Œæ¶æ„ã€‚

**åŒ…å«å†…å®¹**ï¼š
- æŠ€æœ¯æ ˆé€‰å‹
- ç³»ç»Ÿæ¶æ„è®¾è®¡
- æ•°æ®æ¨¡å‹è®¾è®¡
- API è®¾è®¡
- ç¬¬ä¸‰æ–¹é›†æˆæ–¹æ¡ˆ

**ç¤ºä¾‹**ï¼š
```markdown
# Technical Plan: User Authentication

## Technology Stack
- **Backend**: Node.js + Express.js
- **Database**: PostgreSQL 15
- **Cache**: Redis 7
- **Authentication**: Passport.js + JWT
- **Email**: SendGrid API
- **Password Hashing**: bcrypt

## System Architecture
\`\`\`mermaid
graph TB
    Client[Web Client] --> API[API Gateway]
    API --> Auth[Auth Service]
    Auth --> DB[(PostgreSQL)]
    Auth --> Cache[(Redis)]
    Auth --> Email[Email Service]
\`\`\`

## Data Model
\`\`\`sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  failed_attempts INT DEFAULT 0,
  locked_until TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);
\`\`\`

## API Endpoints
- POST /auth/register - User registration
- POST /auth/login - User login
- POST /auth/logout - User logout
- POST /auth/reset-password - Password reset request
- POST /auth/verify-email - Email verification
```

---

#### `/speckit.tasks`
å°†è®¡åˆ’åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„ç‹¬ç«‹ä»»åŠ¡ã€‚

**ä»»åŠ¡ç‰¹å¾**ï¼š
- **åŸå­æ€§**ï¼šæ¯ä¸ªä»»åŠ¡ç‹¬ç«‹å®Œæˆä¸€ä¸ªåŠŸèƒ½ç‚¹
- **å¯æµ‹è¯•**ï¼šæ¯ä¸ªä»»åŠ¡éƒ½æœ‰æ˜ç¡®çš„éªŒè¯æ ‡å‡†
- **æœ‰åºæ€§**ï¼šä»»åŠ¡æŒ‰ä¾èµ–å…³ç³»æ’åº
- **å¹¶è¡Œæ ‡è®°**ï¼šä½¿ç”¨ `[P]` æ ‡è®°å¯å¹¶è¡Œæ‰§è¡Œçš„ä»»åŠ¡

**ç¤ºä¾‹**ï¼š
```markdown
# Implementation Tasks

## Phase 1: Database Setup
- [ ] Task 1.1: Create database schema migration
  - File: `migrations/001_create_users_table.sql`
  - Test: Verify table structure with schema inspection

- [ ] Task 1.2 [P]: Set up database connection pool
  - File: `src/config/database.ts`
  - Test: Unit test connection acquisition/release

## Phase 2: Core Authentication Logic
- [ ] Task 2.1: Implement password hashing utility
  - File: `src/utils/password.ts`
  - Test: `tests/utils/password.test.ts`
  - Dependencies: None [P]

- [ ] Task 2.2: Create User model
  - File: `src/models/User.ts`
  - Test: `tests/models/User.test.ts`
  - Dependencies: Task 1.1

- [ ] Task 2.3: Implement registration logic
  - File: `src/services/AuthService.ts`
  - Test: `tests/services/AuthService.test.ts`
  - Dependencies: Task 2.1, 2.2

## Phase 3: API Implementation
- [ ] Task 3.1: Create registration endpoint
  - File: `src/routes/auth.ts`
  - Test: `tests/integration/auth.test.ts`
  - Dependencies: Task 2.3
```

---

#### `/speckit.implement`
æ‰§è¡Œæ‰€æœ‰ä»»åŠ¡ï¼Œæ„å»ºåŠŸèƒ½ã€‚

**æ‰§è¡Œç­–ç•¥**ï¼š
- æŒ‰ç…§ä»»åŠ¡é¡ºåºé€ä¸ªå®ç°
- åœ¨æ¯ä¸ªæ£€æŸ¥ç‚¹éªŒè¯æµ‹è¯•é€šè¿‡
- éµå¾ª TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰åŸåˆ™

**å·¥ä½œæµç¨‹**ï¼š
1. è¯»å– `tasks.md`
2. æŒ‰é¡ºåºæ‰§è¡Œæ¯ä¸ªä»»åŠ¡
3. è¿è¡Œç›¸å…³æµ‹è¯•éªŒè¯
4. è®°å½•å®ç°è¿›åº¦
5. å¤„ç†ä¾èµ–å…³ç³»

---

### 3. è¾…åŠ©å‘½ä»¤

#### `/speckit.analyze`
éªŒè¯è§„èŒƒã€è®¡åˆ’å’Œä»»åŠ¡ä¹‹é—´çš„ä¸€è‡´æ€§ã€‚

**æ£€æŸ¥é¡¹**ï¼š
- è§„èŒƒä¸­çš„éœ€æ±‚æ˜¯å¦éƒ½æœ‰å¯¹åº”ä»»åŠ¡
- ä»»åŠ¡æ˜¯å¦ç¬¦åˆæŠ€æœ¯æ–¹æ¡ˆ
- æ˜¯å¦å­˜åœ¨å†²çªæˆ–é—æ¼

---

#### `/speckit.checklist`
ç”Ÿæˆè´¨é‡éªŒè¯æ¸…å•ã€‚

**æ¸…å•å†…å®¹**ï¼š
- åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥
- ä»£ç è´¨é‡æ ‡å‡†
- å®‰å…¨æ€§æ£€æŸ¥
- æ€§èƒ½åŸºå‡†æµ‹è¯•
- æ–‡æ¡£å®Œæ•´æ€§

---

## å·¥ä½œæµç¨‹

### å®Œæ•´å¼€å‘æµç¨‹å›¾

<Mermaid chart={`sequenceDiagram
    participant Dev as å¼€å‘è€…
    participant AI as AI åŠ©æ‰‹
    participant CLI as SpecKit CLI
    participant Repo as ä»£ç ä»“åº“

    Dev->>CLI: specify init my-project
    CLI->>Repo: åˆ›å»º .speckit/ ç›®å½•
    CLI-->>Dev: é¡¹ç›®åˆå§‹åŒ–å®Œæˆ

    Dev->>AI: /speckit.constitution
    AI->>Repo: ç”Ÿæˆ constitution.md
    AI-->>Dev: å®ªæ³•æ–‡æ¡£å·²åˆ›å»º

    Dev->>AI: /speckit.specify<br/>æè¿°åŠŸèƒ½éœ€æ±‚
    AI->>Repo: ç”Ÿæˆ specification.md
    AI-->>Dev: è§„èŒƒæ–‡æ¡£å·²åˆ›å»º

    Dev->>AI: /speckit.clarify
    AI-->>Dev: æå‡ºæ¾„æ¸…é—®é¢˜
    Dev->>AI: å›ç­”é—®é¢˜
    AI->>Repo: æ›´æ–° specification.md

    Dev->>AI: /speckit.plan
    AI->>Repo: ç”Ÿæˆ plan.md
    AI-->>Dev: æŠ€æœ¯æ–¹æ¡ˆå·²åˆ›å»º

    Dev->>AI: /speckit.tasks
    AI->>Repo: ç”Ÿæˆ tasks.md
    AI-->>Dev: ä»»åŠ¡æ¸…å•å·²åˆ›å»º

    Dev->>AI: /speckit.implement

    loop æ¯ä¸ªä»»åŠ¡
        AI->>AI: è¯»å–ä»»åŠ¡è¯¦æƒ…
        AI->>Repo: ç”Ÿæˆæµ‹è¯•ä»£ç 
        AI->>Repo: ç”Ÿæˆå®ç°ä»£ç 
        AI->>AI: è¿è¡Œæµ‹è¯•éªŒè¯
        AI-->>Dev: ä»»åŠ¡ X å®Œæˆ
    end

    AI-->>Dev: æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ

    Dev->>CLI: specify check
    CLI-->>Dev: è´¨é‡æ£€æŸ¥æŠ¥å‘Š`} client:load />

### é˜¶æ®µè¯¦è§£

#### **é˜¶æ®µ 1ï¼šåŸºç¡€å»ºè®¾ï¼ˆFoundationï¼‰**

<Mermaid chart={`graph LR
    A[åˆå§‹åŒ–é¡¹ç›®] --> B[å®šä¹‰å®ªæ³•]
    B --> C[ç¼–å†™è§„èŒƒ]
    C --> D[æ¾„æ¸…éœ€æ±‚]

    style A fill:#e1f5ff
    style B fill:#ff6b6b
    style C fill:#4ecdc4
    style D fill:#dda15e`} client:load />

**ç›®æ ‡**ï¼šå»ºç«‹æ¸…æ™°ã€æ— æ­§ä¹‰çš„é¡¹ç›®åŸºç¡€

**è¾“å‡º**ï¼š
- `constitution.md` - é¡¹ç›®åŸåˆ™
- `specification.md` - åŠŸèƒ½è§„èŒƒ
- `clarifications.md` - éœ€æ±‚æ¾„æ¸…

---

#### **é˜¶æ®µ 2ï¼šæŠ€æœ¯è®¾è®¡ï¼ˆDesignï¼‰**

<Mermaid chart={`graph LR
    A[æŠ€æœ¯é€‰å‹] --> B[æ¶æ„è®¾è®¡]
    B --> C[API è®¾è®¡]
    C --> D[æ•°æ®æ¨¡å‹è®¾è®¡]

    style A fill:#45b7d1
    style B fill:#45b7d1
    style C fill:#45b7d1
    style D fill:#45b7d1`} client:load />

**ç›®æ ‡**ï¼šåˆ¶å®šè¯¦ç»†çš„æŠ€æœ¯å®ç°æ–¹æ¡ˆ

**è¾“å‡º**ï¼š
- `plan.md` - å®Œæ•´æŠ€æœ¯æ–¹æ¡ˆ

---

#### **é˜¶æ®µ 3ï¼šä»»åŠ¡åˆ†è§£ï¼ˆBreakdownï¼‰**

<Mermaid chart={`graph TB
    A[è¯»å–è§„èŒƒå’Œè®¡åˆ’] --> B[è¯†åˆ«åŠŸèƒ½æ¨¡å—]
    B --> C[åˆ†è§£ä¸ºç‹¬ç«‹ä»»åŠ¡]
    C --> D[ç¡®å®šä¾èµ–å…³ç³»]
    D --> E[æ ‡è®°å¹¶è¡Œä»»åŠ¡]
    E --> F[ç”Ÿæˆä»»åŠ¡æ¸…å•]

    style F fill:#f7dc6f`} client:load />

**ç›®æ ‡**ï¼šå°†å¤§å‹åŠŸèƒ½åˆ†è§£ä¸ºå¯ç®¡ç†çš„å°ä»»åŠ¡

**è¾“å‡º**ï¼š
- `tasks.md` - ç»“æ„åŒ–ä»»åŠ¡åˆ—è¡¨

---

#### **é˜¶æ®µ 4ï¼šè‡ªåŠ¨å®ç°ï¼ˆImplementationï¼‰**

<Mermaid chart={`graph TB
    A[è¯»å–ä»»åŠ¡] --> B{æ£€æŸ¥ä¾èµ–}
    B -->|æœªæ»¡è¶³| C[ç­‰å¾…ä¾èµ–å®Œæˆ]
    B -->|å·²æ»¡è¶³| D[ç”Ÿæˆæµ‹è¯•ä»£ç ]
    D --> E[ç”Ÿæˆå®ç°ä»£ç ]
    E --> F[è¿è¡Œæµ‹è¯•]
    F -->|å¤±è´¥| G[ä¿®å¤é”™è¯¯]
    F -->|æˆåŠŸ| H[æ ‡è®°ä»»åŠ¡å®Œæˆ]
    G --> F
    H --> I{è¿˜æœ‰ä»»åŠ¡?}
    I -->|æ˜¯| A
    I -->|å¦| J[å®Œæˆå®ç°]

    style J fill:#95e1d3`} client:load />

**ç›®æ ‡**ï¼šè‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆå’Œæµ‹è¯•éªŒè¯

**è¾“å‡º**ï¼š
- æºä»£ç 
- æµ‹è¯•ä»£ç 
- æ–‡æ¡£

---

### è¿­ä»£å¼å¼€å‘æµç¨‹

<Mermaid chart={`graph TB
    START[å¼€å§‹æ–°åŠŸèƒ½] --> SPEC[ç¼–å†™è§„èŒƒ]
    SPEC --> PLAN[åˆ¶å®šæ–¹æ¡ˆ]
    PLAN --> TASKS[åˆ†è§£ä»»åŠ¡]
    TASKS --> IMPL[å®ç°ä»£ç ]
    IMPL --> TEST{æµ‹è¯•é€šè¿‡?}

    TEST -->|æ˜¯| REVIEW[ä»£ç å®¡æŸ¥]
    TEST -->|å¦| FIX[ä¿®å¤é—®é¢˜]
    FIX --> IMPL

    REVIEW --> DEPLOY{å‡†å¤‡å‘å¸ƒ?}
    DEPLOY -->|æ˜¯| RELEASE[å‘å¸ƒä¸Šçº¿]
    DEPLOY -->|å¦| ITERATE[è¿­ä»£æ”¹è¿›]

    ITERATE --> UPDATE[æ›´æ–°è§„èŒƒ]
    UPDATE --> PLAN

    RELEASE --> MONITOR[ç›‘æ§åé¦ˆ]
    MONITOR --> NEXT{æ–°éœ€æ±‚?}
    NEXT -->|æ˜¯| START
    NEXT -->|å¦| MAINTAIN[ç»´æŠ¤æ¨¡å¼]

    style START fill:#e1f5ff
    style RELEASE fill:#95e1d3
    style MAINTAIN fill:#dda15e`} client:load />

---

## å®‰è£…ä¸é…ç½®

### ç³»ç»Ÿè¦æ±‚

- **Python**: 3.8+ ï¼ˆç”¨äº Specify CLIï¼‰
- **uv**: Python åŒ…ç®¡ç†å™¨
- **Git**: ç‰ˆæœ¬æ§åˆ¶
- **AI åŠ©æ‰‹**: ä»¥ä¸‹ä»»æ„ä¸€ç§
  - Claude Code
  - GitHub Copilot
  - Cursor
  - Windsurf
  - Gemini CLI
  - Qwen Code
  - å…¶ä»–æ”¯æŒè‡ªå®šä¹‰å‘½ä»¤çš„ AI ç¼–ç åŠ©æ‰‹

### å®‰è£…æ­¥éª¤

#### 1. å®‰è£… uv åŒ…ç®¡ç†å™¨

**macOS/Linux**:
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

**Windows**:
```powershell
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
```

#### 2. å®‰è£… SpecKit CLI

**æŒä¹…åŒ–å®‰è£…ï¼ˆæ¨èï¼‰**:
```bash
uv tool install specify-cli --from git+https://github.com/github/spec-kit.git
```

**ä¸€æ¬¡æ€§è¿è¡Œ**:
```bash
uvx --from git+https://github.com/github/spec-kit.git specify-cli init my-project
```

#### 3. éªŒè¯å®‰è£…

```bash
specify --version
specify check
```

### é¡¹ç›®åˆå§‹åŒ–

#### åˆ›å»ºæ–°é¡¹ç›®

```bash
# åˆå§‹åŒ–é¡¹ç›®
specify init my-awesome-app

# è¿›å…¥é¡¹ç›®ç›®å½•
cd my-awesome-app

# æŸ¥çœ‹ç”Ÿæˆçš„ç»“æ„
tree .speckit
```

**ç”Ÿæˆçš„ç›®å½•ç»“æ„**ï¼š
```
my-awesome-app/
â”œâ”€â”€ .speckit/
â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”œâ”€â”€ constitution.md
â”‚   â”‚   â”œâ”€â”€ specify.md
â”‚   â”‚   â”œâ”€â”€ clarify.md
â”‚   â”‚   â”œâ”€â”€ plan.md
â”‚   â”‚   â”œâ”€â”€ tasks.md
â”‚   â”‚   â”œâ”€â”€ implement.md
â”‚   â”‚   â”œâ”€â”€ analyze.md
â”‚   â”‚   â””â”€â”€ checklist.md
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ constitution.template.md
â”‚   â”‚   â”œâ”€â”€ specification.template.md
â”‚   â”‚   â”œâ”€â”€ plan.template.md
â”‚   â”‚   â””â”€â”€ tasks.template.md
â”‚   â””â”€â”€ config.yml
â””â”€â”€ README.md
```

### é…ç½® AI åŠ©æ‰‹

#### Claude Code é…ç½®

åœ¨ Claude Code ä¸­ï¼ŒSpecKit çš„å‘½ä»¤ä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

#### GitHub Copilot é…ç½®

ç¡®ä¿å®‰è£…äº† GitHub Copilot Chat æ‰©å±•ï¼Œå‘½ä»¤ä¼šè‡ªåŠ¨å¯ç”¨ã€‚

#### Cursor é…ç½®

1. æ‰“å¼€ Cursor è®¾ç½®
2. å¯ç”¨è‡ªå®šä¹‰å‘½ä»¤æ”¯æŒ
3. SpecKit å‘½ä»¤ä¼šè‡ªåŠ¨åŠ è½½

---

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­æ¥æ¼”ç¤º SpecKit çš„ä½¿ç”¨ã€‚

#### åœºæ™¯ï¼šæ„å»ºä¸€ä¸ªå¾…åŠäº‹é¡¹ API

#### Step 1: åˆå§‹åŒ–é¡¹ç›®

```bash
specify init todo-api
cd todo-api
```

#### Step 2: å®šä¹‰é¡¹ç›®å®ªæ³•

åœ¨ AI åŠ©æ‰‹ä¸­æ‰§è¡Œï¼š
```
/speckit.constitution
```

AI ä¼šå¼•å¯¼ä½ å®šä¹‰é¡¹ç›®åŸåˆ™ï¼Œç¤ºä¾‹è¾“å…¥ï¼š
```
æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ª RESTful å¾…åŠäº‹é¡¹ APIï¼Œè¯·éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
- ä½¿ç”¨ Node.js + TypeScript + Express
- éµå¾ª SOLID åŸåˆ™å’Œ Clean Architecture
- æ‰€æœ‰ API ä½¿ç”¨ OpenAPI 3.0 è§„èŒƒ
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- ä½¿ç”¨ JWT è¿›è¡Œèº«ä»½éªŒè¯
- æ‰€æœ‰å“åº”ä½¿ç”¨æ ‡å‡† JSON æ ¼å¼
- é”™è¯¯å¤„ç†éµå¾ª RFC 7807ï¼ˆProblem Detailsï¼‰
```

ç”Ÿæˆçš„ `constitution.md`:

<ExampleCode
  title="å®Œæ•´ Constitution ç¤ºä¾‹ - constitution.md"
  language="markdown"
  code={`# Todo API - Project Constitution

## Technology Stack
- **Runtime**: Node.js 20 LTS
- **Language**: TypeScript 5.3+
- **Framework**: Express.js 4.x
- **Database**: PostgreSQL 15
- **ORM**: Prisma 5.x
- **Testing**: Jest + Supertest
- **API Docs**: OpenAPI 3.0

## Architecture Principles
1. **Clean Architecture**: Separation of concerns with layers (routes â†’ controllers â†’ services â†’ repositories)
2. **Dependency Injection**: Use dependency injection for testability
3. **SOLID Principles**: Especially Single Responsibility and Dependency Inversion
4. **Repository Pattern**: Abstract data access logic

## Code Standards
- ESLint with Airbnb TypeScript config
- Prettier for code formatting
- Strict TypeScript mode enabled
- No \`any\` types allowed
- Maximum function complexity: 10

## Testing Requirements
- Minimum 80% code coverage
- Unit tests for all business logic
- Integration tests for all API endpoints
- Test naming: \`should [expected behavior] when [condition]\`

## Security Standards
- JWT-based authentication
- Password hashing with bcrypt (12 rounds)
- Input validation with Zod
- SQL injection prevention via ORM
- Rate limiting: 100 requests/15min per IP

## API Design Standards
- RESTful conventions
- HTTP status codes:
  - 200 OK (successful GET)
  - 201 Created (successful POST)
  - 204 No Content (successful DELETE)
  - 400 Bad Request (validation error)
  - 401 Unauthorized (auth required)
  - 403 Forbidden (auth failed)
  - 404 Not Found
  - 500 Internal Server Error
- Error responses follow RFC 7807`}
  client:load
/>

#### Step 3: ç¼–å†™åŠŸèƒ½è§„èŒƒ

æ‰§è¡Œï¼š
```
/speckit.specify
```

è¾“å…¥éœ€æ±‚ï¼š
```
æˆ‘éœ€è¦å®ç°å¾…åŠäº‹é¡¹çš„ CRUD åŠŸèƒ½ï¼š
- ç”¨æˆ·å¯ä»¥åˆ›å»ºã€æŸ¥çœ‹ã€æ›´æ–°ã€åˆ é™¤å¾…åŠäº‹é¡¹
- æ¯ä¸ªå¾…åŠäº‹é¡¹åŒ…å«ï¼šæ ‡é¢˜ã€æè¿°ã€çŠ¶æ€ï¼ˆå¾…åŠ/å®Œæˆï¼‰ã€åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´
- ç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„å¾…åŠäº‹é¡¹
- æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
- æ”¯æŒåˆ†é¡µæŸ¥è¯¢
```

ç”Ÿæˆçš„ `specification.md`:
```markdown
# Feature Specification: Todo CRUD API

## Overview
Build a RESTful API for managing personal todo items with authentication.

## User Stories

### US-1: Create Todo
**As a** authenticated user
**I want** to create a new todo item
**So that** I can track tasks I need to complete

**Acceptance Criteria**:
- [ ] User can create todo with title (required) and description (optional)
- [ ] New todo defaults to "pending" status
- [ ] Created todo includes auto-generated timestamps
- [ ] API returns 201 with created todo object
- [ ] Invalid input returns 400 with validation errors

### US-2: List Todos
**As a** authenticated user
**I want** to view my todo list with filtering and pagination
**So that** I can see my tasks efficiently

**Acceptance Criteria**:
- [ ] User can list all their todos
- [ ] Support filtering by status (pending/completed)
- [ ] Support pagination (default: 20 items/page)
- [ ] Response includes total count and pagination metadata
- [ ] Todos ordered by creation date (newest first)

### US-3: Update Todo
**As a** authenticated user
**I want** to update my todo items
**So that** I can modify task details or mark as completed

**Acceptance Criteria**:
- [ ] User can update title, description, and status
- [ ] Updated_at timestamp auto-updates
- [ ] Returns 404 if todo not found
- [ ] Returns 403 if todo belongs to another user
- [ ] Returns 200 with updated todo

### US-4: Delete Todo
**As a** authenticated user
**I want** to delete todo items
**So that** I can remove completed or irrelevant tasks

**Acceptance Criteria**:
- [ ] User can delete their own todos
- [ ] Returns 204 on successful deletion
- [ ] Returns 404 if todo not found
- [ ] Returns 403 if todo belongs to another user

## Data Model

### Todo Entity
\`\`\`typescript
interface Todo {
  id: string;           // UUID
  title: string;        // Max 200 chars
  description?: string; // Max 2000 chars
  status: 'pending' | 'completed';
  userId: string;       // Owner reference
  createdAt: Date;
  updatedAt: Date;
}
\`\`\`

## API Endpoints

### POST /api/todos
Create new todo

**Request**:
\`\`\`json
{
  "title": "Buy groceries",
  "description": "Milk, eggs, bread"
}
```

**Response (201)**:
```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "title": "Buy groceries",
  "description": "Milk, eggs, bread",
  "status": "pending",
  "userId": "user123",
  "createdAt": "2025-01-15T10:30:00Z",
  "updatedAt": "2025-01-15T10:30:00Z"
}
```

### GET /api/todos
List todos with filtering and pagination

**Query Parameters**:
- `status` (optional): "pending" | "completed"
- `page` (optional, default: 1): Page number
- `limit` (optional, default: 20, max: 100): Items per page

**Response (200)**:
```json
{
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "title": "Buy groceries",
      "status": "pending",
      ...
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 45,
    "totalPages": 3
  }
}
```

### PATCH /api/todos/:id
Update existing todo

**Request**:
```json
{
  "status": "completed"
}
```

**Response (200)**: Updated todo object

### DELETE /api/todos/:id
Delete todo

**Response (204)**: No content

## Non-Functional Requirements

### Performance
- API response time < 200ms (P95)
- Support 1000 concurrent users

### Security
- All endpoints require JWT authentication
- Validate user ownership for all operations
- Input sanitization to prevent XSS/SQL injection

### Reliability
- 99.9% uptime
- Graceful error handling
- Database transaction support
```

#### Step 4: æ¾„æ¸…éœ€æ±‚

æ‰§è¡Œï¼š
```
/speckit.clarify
```

AI ä¼šæå‡ºé—®é¢˜ï¼Œç¤ºä¾‹ï¼š
```
AI: æˆ‘éœ€è¦æ¾„æ¸…ä»¥ä¸‹ç»†èŠ‚ï¼š

1. å¯¹äº"æ ‡é¢˜æœ€å¤§ 200 å­—ç¬¦"ï¼Œæ˜¯æŒ‰å­—ç¬¦è®¡æ•°è¿˜æ˜¯å­—èŠ‚ï¼Ÿæ˜¯å¦åŒ…å« emojiï¼Ÿ
2. åˆ é™¤å¾…åŠäº‹é¡¹æ˜¯ç¡¬åˆ é™¤è¿˜æ˜¯è½¯åˆ é™¤ï¼ˆæ ‡è®°ä¸ºå·²åˆ é™¤ä½†ä¿ç•™æ•°æ®ï¼‰ï¼Ÿ
3. åˆ†é¡µæŸ¥è¯¢æ—¶ï¼Œå¦‚æœè¯·æ±‚çš„é¡µç è¶…å‡ºèŒƒå›´ï¼Œåº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿ
4. æ˜¯å¦éœ€è¦å¾…åŠäº‹é¡¹çš„æœç´¢åŠŸèƒ½ï¼ˆæŒ‰æ ‡é¢˜/æè¿°æœç´¢ï¼‰ï¼Ÿ
5. JWT token çš„è¿‡æœŸæ—¶é—´æ˜¯å¤šä¹…ï¼Ÿ

Developer å›ç­”ï¼š
1. æŒ‰ Unicode å­—ç¬¦è®¡æ•°ï¼Œæ”¯æŒ emoji
2. ç¡¬åˆ é™¤ï¼Œç›´æ¥ä»æ•°æ®åº“åˆ é™¤
3. è¿”å›ç©ºæ•°ç»„ï¼Œä¸æŠ¥é”™
4. æš‚æ—¶ä¸éœ€è¦ï¼Œåç»­ç‰ˆæœ¬å†åŠ 
5. Access token 1å°æ—¶ï¼ŒRefresh token 7å¤©
```

AI ä¼šå°†æ¾„æ¸…å†…å®¹è¿½åŠ åˆ° `specification.md`ã€‚

#### Step 5: åˆ¶å®šæŠ€æœ¯æ–¹æ¡ˆ

æ‰§è¡Œï¼š
```
/speckit.plan
```

ç”Ÿæˆçš„ `plan.md`:
```markdown
# Technical Implementation Plan: Todo CRUD API

## Technology Stack

### Backend
- **Runtime**: Node.js 20.10.0
- **Language**: TypeScript 5.3
- **Framework**: Express 4.18
- **Validation**: Zod 3.22

### Database
- **DBMS**: PostgreSQL 15
- **ORM**: Prisma 5.7
- **Migration**: Prisma Migrate

### Authentication
- **Library**: jsonwebtoken 9.0
- **Password**: bcrypt 5.1

### Testing
- **Framework**: Jest 29.7
- **API Testing**: Supertest 6.3
- **Coverage**: 80%+ target

### DevOps
- **Linting**: ESLint + Prettier
- **Environment**: dotenv
- **Process**: PM2 (production)

## System Architecture

\`\`\`mermaid
graph TB
    Client[Client Application] --> API[API Gateway<br/>Express Router]
    API --> Auth[Auth Middleware]
    Auth --> TodoController[Todo Controller]
    TodoController --> TodoService[Todo Service]
    TodoService --> TodoRepo[Todo Repository]
    TodoRepo --> Prisma[Prisma ORM]
    Prisma --> DB[(PostgreSQL)]

    Auth --> JWT[JWT Service]
    JWT --> UserRepo[User Repository]
    UserRepo --> Prisma

    style API fill:#4ecdc4
    style TodoService fill:#45b7d1
    style DB fill:#f7dc6f
\`\`\`

## Project Structure
```
todo-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/       # Request handlers
â”‚   â”‚   â”œâ”€â”€ todo.controller.ts
â”‚   â”‚   â””â”€â”€ auth.controller.ts
â”‚   â”œâ”€â”€ services/          # Business logic
â”‚   â”‚   â”œâ”€â”€ todo.service.ts
â”‚   â”‚   â””â”€â”€ auth.service.ts
â”‚   â”œâ”€â”€ repositories/      # Data access
â”‚   â”‚   â”œâ”€â”€ todo.repository.ts
â”‚   â”‚   â””â”€â”€ user.repository.ts
â”‚   â”œâ”€â”€ middlewares/       # Express middlewares
â”‚   â”‚   â”œâ”€â”€ auth.middleware.ts
â”‚   â”‚   â”œâ”€â”€ validation.middleware.ts
â”‚   â”‚   â””â”€â”€ error.middleware.ts
â”‚   â”œâ”€â”€ schemas/           # Zod validation schemas
â”‚   â”‚   â””â”€â”€ todo.schema.ts
â”‚   â”œâ”€â”€ types/             # TypeScript types
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ config/            # Configuration
â”‚   â”‚   â””â”€â”€ database.ts
â”‚   â””â”€â”€ app.ts             # Express app setup
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma      # Database schema
â”‚   â””â”€â”€ migrations/        # Migration files
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ todo.service.test.ts
â”‚   â””â”€â”€ integration/
â”‚       â””â”€â”€ todos.test.ts
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## Database Schema

```prisma
// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  todos     Todo[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Todo {
  id          String   @id @default(uuid())
  title       String   @db.VarChar(200)
  description String?  @db.VarChar(2000)
  status      Status   @default(PENDING)
  userId      String
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([userId, status])
  @@index([createdAt])
}

enum Status {
  PENDING
  COMPLETED
}
```

## API Implementation Plan

### Authentication Flow
<Mermaid chart={`sequenceDiagram
    Client->>API: POST /auth/login
    API->>AuthController: Handle request
    AuthController->>AuthService: Authenticate
    AuthService->>UserRepo: Find user by email
    UserRepo-->>AuthService: User data
    AuthService->>AuthService: Verify password
    AuthService->>JWTService: Generate tokens
    JWTService-->>AuthService: Access + Refresh tokens
    AuthService-->>Client: 200 + tokens

    Client->>API: GET /todos (with token)
    API->>AuthMiddleware: Verify token
    AuthMiddleware->>JWTService: Decode token
    JWTService-->>AuthMiddleware: User ID
    AuthMiddleware->>TodoController: Pass request`} client:load />

### Error Handling Strategy
All errors follow RFC 7807 (Problem Details):
```typescript
{
  "type": "https://api.example.com/errors/validation-error",
  "title": "Validation Failed",
  "status": 400,
  "detail": "Title must not exceed 200 characters",
  "instance": "/api/todos",
  "errors": [
    {
      "field": "title",
      "message": "String must contain at most 200 character(s)"
    }
  ]
}
```

## Development Workflow

1. **Setup**: Install dependencies and configure database
2. **Database**: Create Prisma schema and run migrations
3. **Auth**: Implement authentication system first (prerequisite)
4. **Todo CRUD**: Implement todo endpoints
5. **Testing**: Write tests alongside implementation (TDD)
6. **Documentation**: Generate OpenAPI spec from code
```

#### Step 6: åˆ†è§£ä»»åŠ¡

æ‰§è¡Œï¼š
```
/speckit.tasks
```

ç”Ÿæˆçš„ `tasks.md`:
```markdown
# Implementation Tasks: Todo CRUD API

## Phase 1: Project Setup and Database

### Task 1.1: Initialize project structure [P]
**Files**:
- `package.json`
- `tsconfig.json`
- `.env.example`
- `.eslintrc.js`
- `.prettierrc`

**Description**: Set up Node.js project with TypeScript configuration

**Test**: Verify `npm run build` compiles without errors

---

### Task 1.2: Configure Prisma and database [P]
**Files**:
- `prisma/schema.prisma`
- `src/config/database.ts`

**Description**: Create Prisma schema and database configuration

**Test**: Run `npx prisma migrate dev` successfully

---

### Task 1.3: Create database migration
**Files**:
- `prisma/migrations/001_init.sql` (auto-generated)

**Description**: Generate initial migration for User and Todo tables

**Dependencies**: Task 1.2

**Test**: Migration applies cleanly to empty database

---

## Phase 2: Core Infrastructure

### Task 2.1: Implement error handling middleware
**Files**:
- `src/middlewares/error.middleware.ts`
- `src/types/errors.ts`
- `tests/unit/middlewares/error.middleware.test.ts`

**Description**: Create centralized error handler following RFC 7807

**Test**: Unit tests verify correct error response format

---

### Task 2.2: Create validation middleware [P]
**Files**:
- `src/middlewares/validation.middleware.ts`
- `tests/unit/middlewares/validation.middleware.test.ts`

**Description**: Zod-based request validation middleware

**Test**: Unit tests verify validation error handling

---

### Task 2.3: Implement JWT service [P]
**Files**:
- `src/services/jwt.service.ts`
- `tests/unit/services/jwt.service.test.ts`

**Description**: Token generation, verification, and refresh logic

**Test**:
- âœ“ Should generate valid access token
- âœ“ Should generate valid refresh token
- âœ“ Should verify valid token
- âœ“ Should reject expired token
- âœ“ Should reject invalid token

---

## Phase 3: Authentication System

### Task 3.1: Create User repository
**Files**:
- `src/repositories/user.repository.ts`
- `tests/unit/repositories/user.repository.test.ts`

**Dependencies**: Task 1.3

**Description**: Database operations for User entity

**Test**:
- âœ“ Should create user
- âœ“ Should find user by email
- âœ“ Should find user by ID

---

### Task 3.2: Implement Auth service
**Files**:
- `src/services/auth.service.ts`
- `tests/unit/services/auth.service.test.ts`

**Dependencies**: Task 3.1, Task 2.3

**Description**: Registration, login, password hashing

**Test**:
- âœ“ Should register new user
- âœ“ Should hash password
- âœ“ Should login with correct credentials
- âœ“ Should reject invalid credentials
- âœ“ Should refresh access token

---

### Task 3.3: Create Auth controller and routes
**Files**:
- `src/controllers/auth.controller.ts`
- `src/routes/auth.routes.ts`
- `src/schemas/auth.schema.ts`
- `tests/integration/auth.test.ts`

**Dependencies**: Task 3.2, Task 2.2

**Description**: API endpoints for authentication

**Test** (Integration):
- âœ“ POST /auth/register - should register user
- âœ“ POST /auth/login - should login user
- âœ“ POST /auth/refresh - should refresh token

---

### Task 3.4: Implement authentication middleware
**Files**:
- `src/middlewares/auth.middleware.ts`
- `tests/unit/middlewares/auth.middleware.test.ts`

**Dependencies**: Task 2.3

**Description**: JWT token verification for protected routes

**Test**:
- âœ“ Should allow request with valid token
- âœ“ Should reject request without token
- âœ“ Should reject request with invalid token
- âœ“ Should attach user ID to request

---

## Phase 4: Todo CRUD Implementation

### Task 4.1: Create Todo repository
**Files**:
- `src/repositories/todo.repository.ts`
- `tests/unit/repositories/todo.repository.test.ts`

**Dependencies**: Task 1.3

**Description**: Database operations for Todo entity

**Test**:
- âœ“ Should create todo
- âœ“ Should find todos by user ID
- âœ“ Should find todo by ID
- âœ“ Should update todo
- âœ“ Should delete todo
- âœ“ Should filter by status
- âœ“ Should paginate results

---

### Task 4.2: Implement Todo service
**Files**:
- `src/services/todo.service.ts`
- `tests/unit/services/todo.service.test.ts`

**Dependencies**: Task 4.1

**Description**: Business logic for todo operations

**Test**:
- âœ“ Should create todo for user
- âœ“ Should list user's todos
- âœ“ Should get single todo
- âœ“ Should update todo
- âœ“ Should delete todo
- âœ“ Should throw error if todo not found
- âœ“ Should throw error if user not owner

---

### Task 4.3: Create Todo validation schemas
**Files**:
- `src/schemas/todo.schema.ts`
- `tests/unit/schemas/todo.schema.test.ts`

**Dependencies**: None [P]

**Description**: Zod schemas for todo operations

**Test**:
- âœ“ Should validate create todo request
- âœ“ Should validate update todo request
- âœ“ Should validate query parameters
- âœ“ Should reject invalid status
- âœ“ Should reject title > 200 chars

---

### Task 4.4: Create Todo controller
**Files**:
- `src/controllers/todo.controller.ts`
- `tests/unit/controllers/todo.controller.test.ts`

**Dependencies**: Task 4.2

**Description**: HTTP request handlers for todo operations

**Test**:
- âœ“ Should handle create todo request
- âœ“ Should handle list todos request
- âœ“ Should handle get todo request
- âœ“ Should handle update todo request
- âœ“ Should handle delete todo request
- âœ“ Should handle errors properly

---

### Task 4.5: Create Todo routes
**Files**:
- `src/routes/todo.routes.ts`
- `tests/integration/todos.test.ts`

**Dependencies**: Task 4.4, Task 4.3, Task 3.4

**Description**: API endpoint definitions with middleware

**Test** (Integration):
- âœ“ POST /api/todos - should create todo
- âœ“ POST /api/todos - should require authentication
- âœ“ POST /api/todos - should validate request body
- âœ“ GET /api/todos - should list todos
- âœ“ GET /api/todos?status=completed - should filter by status
- âœ“ GET /api/todos?page=2&limit=10 - should paginate
- âœ“ GET /api/todos/:id - should get single todo
- âœ“ GET /api/todos/:id - should return 404 if not found
- âœ“ PATCH /api/todos/:id - should update todo
- âœ“ PATCH /api/todos/:id - should return 403 if not owner
- âœ“ DELETE /api/todos/:id - should delete todo
- âœ“ DELETE /api/todos/:id - should return 403 if not owner

---

## Phase 5: Application Setup

### Task 5.1: Create Express application
**Files**:
- `src/app.ts`
- `src/server.ts`

**Dependencies**: All previous tasks

**Description**: Configure Express with all routes and middleware

**Test**: Integration tests verify full application flow

---

### Task 5.2: Add health check endpoint [P]
**Files**:
- `src/routes/health.routes.ts`
- `tests/integration/health.test.ts`

**Description**: Basic health check endpoint

**Test**:
- âœ“ GET /health - should return 200
- âœ“ GET /health - should include database status

---

## Phase 6: Testing and Documentation

### Task 6.1: Achieve 80%+ test coverage
**Files**:
- Various test files

**Dependencies**: All implementation tasks

**Description**: Ensure all critical paths are tested

**Test**: Run `npm run test:coverage` and verify â‰¥80%

---

### Task 6.2: Generate OpenAPI documentation [P]
**Files**:
- `openapi.yaml`
- `src/docs/swagger.ts`

**Description**: Auto-generate API documentation

**Test**: Swagger UI accessible at `/api-docs`

---

## Task Execution Order

**Parallel-safe tasks** (can run simultaneously):
- Phase 1: Tasks 1.1, 1.2
- Phase 2: Tasks 2.2, 2.3
- Phase 4: Task 4.3
- Phase 5: Task 5.2
- Phase 6: Task 6.2

**Sequential dependencies**:
1. Phase 1 â†’ Phase 2-4
2. Phase 2-4 â†’ Phase 5
3. Phase 5 â†’ Phase 6
```

#### Step 7: æ‰§è¡Œå®ç°

æ‰§è¡Œï¼š
```
/speckit.implement
```

AI ä¼šæŒ‰ç…§ä»»åŠ¡é¡ºåºé€ä¸ªå®ç°ï¼Œç¤ºä¾‹è¾“å‡ºï¼š
```
å¼€å§‹æ‰§è¡Œä»»åŠ¡...

âœ“ Task 1.1: Initialize project structure [å®Œæˆ]
  - åˆ›å»º package.json
  - é…ç½® TypeScript
  - è®¾ç½® ESLint å’Œ Prettier

âœ“ Task 1.2: Configure Prisma and database [å®Œæˆ]
  - åˆ›å»º Prisma schema
  - é…ç½®æ•°æ®åº“è¿æ¥

âœ“ Task 1.3: Create database migration [å®Œæˆ]
  - ç”Ÿæˆåˆå§‹è¿ç§»
  - åº”ç”¨è¿ç§»åˆ°æ•°æ®åº“

âœ“ Task 2.1: Implement error handling middleware [å®Œæˆ]
  - åˆ›å»ºé”™è¯¯ä¸­é—´ä»¶
  - âœ“ 5/5 å•å…ƒæµ‹è¯•é€šè¿‡

...

âœ“ Task 4.5: Create Todo routes [å®Œæˆ]
  - å®šä¹‰ API è·¯ç”±
  - âœ“ 12/12 é›†æˆæµ‹è¯•é€šè¿‡

âœ“ Task 5.1: Create Express application [å®Œæˆ]
  - é…ç½® Express åº”ç”¨
  - æ•´åˆæ‰€æœ‰è·¯ç”±å’Œä¸­é—´ä»¶

ğŸ‰ æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆï¼

æµ‹è¯•è¦†ç›–ç‡: 85.3%
æ€»æµ‹è¯•æ•°: 67
é€šè¿‡: 67
å¤±è´¥: 0
```

---

## æœ€ä½³å®è·µ

### 1. è§„èŒƒç¼–å†™æœ€ä½³å®è·µ

#### âœ… å¥½çš„è§„èŒƒ
```markdown
## User Story: Password Reset

**As a** registered user
**I want** to reset my password via email
**So that** I can regain access if I forget my password

**Acceptance Criteria**:
- [ ] User requests reset by providing email
- [ ] System sends reset link valid for 1 hour
- [ ] Link contains secure token (JWT with email claim)
- [ ] User can set new password (minimum 8 chars, 1 uppercase, 1 number)
- [ ] Old password immediately invalidated
- [ ] User receives confirmation email after reset

**Edge Cases**:
- Email not found â†’ Show generic success message (security)
- Token expired â†’ Show error with option to request new link
- Token already used â†’ Show error
```

#### âŒ å·®çš„è§„èŒƒ
```markdown
## Password Reset

Users should be able to reset password somehow.
Send an email with a link.
```

**é—®é¢˜**ï¼š
- ç¼ºå°‘éªŒæ”¶æ ‡å‡†
- æ²¡æœ‰æ˜ç¡®çš„ç”¨æˆ·æ•…äº‹æ ¼å¼
- æœªå®šä¹‰å®‰å…¨è¦æ±‚
- æ²¡æœ‰è¾¹ç•Œæ¡ä»¶

---

### 2. ä»»åŠ¡åˆ†è§£æœ€ä½³å®è·µ

#### âœ… å¥½çš„ä»»åŠ¡
```markdown
### Task 3.2: Implement password reset service

**Files**:
- `src/services/password-reset.service.ts`
- `tests/unit/services/password-reset.service.test.ts`

**Dependencies**: Task 3.1 (User Repository), Task 2.3 (JWT Service)

**Description**:
Create service handling password reset flow:
1. Generate secure reset token (JWT, 1-hour expiry)
2. Send email with reset link
3. Validate token and update password
4. Invalidate token after use

**Test Cases**:
- âœ“ Should generate reset token for valid email
- âœ“ Should not reveal if email doesn't exist
- âœ“ Should send email with correct reset link
- âœ“ Should validate token and update password
- âœ“ Should reject expired token
- âœ“ Should reject already-used token
- âœ“ Should hash new password with bcrypt

**Estimated Time**: 2 hours
```

#### âŒ å·®çš„ä»»åŠ¡
```markdown
### Task: Add password reset

Implement password reset functionality.

**Files**: Some service files

**Test**: Make sure it works
```

**é—®é¢˜**ï¼š
- æ–‡ä»¶è·¯å¾„ä¸æ˜ç¡®
- æ²¡æœ‰ä¾èµ–å…³ç³»
- æµ‹è¯•æ ‡å‡†æ¨¡ç³Š
- ç¼ºå°‘è¯¦ç»†æ­¥éª¤

---

### 3. æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰

**æ¨èæµç¨‹**ï¼š
<Mermaid chart={`graph LR
    A[å†™æµ‹è¯•] --> B[æµ‹è¯•å¤±è´¥<br/>çº¢è‰²]
    B --> C[å†™æœ€å°å®ç°]
    C --> D[æµ‹è¯•é€šè¿‡<br/>ç»¿è‰²]
    D --> E[é‡æ„ä»£ç ]
    E --> F{æ›´å¤šåœºæ™¯?}
    F -->|æ˜¯| A
    F -->|å¦| G[å®Œæˆ]

    style B fill:#ff6b6b
    style D fill:#95e1d3
    style G fill:#4ecdc4`} client:load />

**ç¤ºä¾‹**ï¼š
```typescript
// 1. å…ˆå†™æµ‹è¯• (RED)
describe('TodoService', () => {
  it('should create todo for authenticated user', async () => {
    const userId = 'user123';
    const input = { title: 'Test Todo', description: 'Test' };

    const result = await todoService.create(userId, input);

    expect(result).toMatchObject({
      title: 'Test Todo',
      status: 'pending',
      userId: 'user123'
    });
    expect(result.id).toBeDefined();
  });
});

// 2. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤å¤±è´¥ï¼ˆå› ä¸ºè¿˜æ²¡å®ç°ï¼‰

// 3. å†™æœ€å°å®ç° (GREEN)
class TodoService {
  async create(userId: string, input: CreateTodoInput) {
    return this.todoRepository.create({
      ...input,
      userId,
      status: 'pending'
    });
  }
}

// 4. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤é€šè¿‡

// 5. é‡æ„ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰
```

---

### 4. æŒç»­æ¼”è¿›ç­–ç•¥

#### Spec-as-Source å·¥ä½œæµ

<Mermaid chart={`sequenceDiagram
    participant PM as äº§å“ç»ç†
    participant Dev as å¼€å‘è€…
    participant Spec as è§„èŒƒæ–‡æ¡£
    participant AI as AI åŠ©æ‰‹
    participant Code as ä»£ç åº“

    PM->>Dev: æ–°éœ€æ±‚ï¼šæ·»åŠ å¾…åŠäº‹é¡¹æ ‡ç­¾åŠŸèƒ½
    Dev->>Spec: æ›´æ–° specification.md
    Note over Spec: æ·»åŠ æ ‡ç­¾ç›¸å…³ç”¨æˆ·æ•…äº‹

    Dev->>AI: /speckit.plan
    AI->>Spec: æ›´æ–° plan.md
    Note over Spec: æ·»åŠ æ ‡ç­¾æ•°æ®æ¨¡å‹å’ŒAPI

    Dev->>AI: /speckit.tasks
    AI->>Spec: æ›´æ–° tasks.md
    Note over Spec: åˆ†è§£æ ‡ç­¾åŠŸèƒ½ä»»åŠ¡

    Dev->>AI: /speckit.implement
    AI->>Code: ç”Ÿæˆæ–°ä»£ç 
    AI->>Code: æ›´æ–°æµ‹è¯•
    AI-->>Dev: å®ç°å®Œæˆ

    Note over Spec,Code: è§„èŒƒä¿æŒæœ€æ–°<br/>ä»£ç è‡ªåŠ¨ç”Ÿæˆ`} client:load />

**ä¼˜åŠ¿**ï¼š
- è§„èŒƒå§‹ç»ˆæ˜¯æœ€æ–°çš„
- å‡å°‘ä»£ç å®¡æŸ¥æ—¶é—´ï¼ˆå…³æ³¨è§„èŒƒè€Œéå®ç°ç»†èŠ‚ï¼‰
- æ›´å®¹æ˜“onboardæ–°æˆå‘˜
- è§„èŒƒå¯ç”¨äºç”Ÿæˆæ–‡æ¡£ã€æµ‹è¯•ç­‰

---

### 5. å›¢é˜Ÿåä½œæœ€ä½³å®è·µ

#### è§„èŒƒå®¡æŸ¥æµç¨‹

```markdown
# Pull Request: Add Todo Tags Feature

## å˜æ›´æ‘˜è¦
æ·»åŠ å¾…åŠäº‹é¡¹æ ‡ç­¾åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·ä¸ºå¾…åŠäº‹é¡¹æ·»åŠ å¤šä¸ªæ ‡ç­¾

## è§„èŒƒå˜æ›´
- âœ… `specification.md`: æ·»åŠ  US-5 æ ‡ç­¾ç®¡ç†ç”¨æˆ·æ•…äº‹
- âœ… `plan.md`: æ›´æ–°æ•°æ®æ¨¡å‹ï¼Œæ·»åŠ  Tag å’Œ TodoTag å…³ç³»è¡¨
- âœ… `tasks.md`: æ–°å¢ Phase 7 å…± 6 ä¸ªä»»åŠ¡

## å®ç°å˜æ›´
- âœ… æ•°æ®åº“è¿ç§»: `002_add_tags.sql`
- âœ… æ–°å¢ TagService å’Œ TagRepository
- âœ… æ‰©å±• Todo API: POST/DELETE /api/todos/:id/tags
- âœ… æµ‹è¯•è¦†ç›–ç‡: 86.2% (+2.1%)

## å®¡æŸ¥æ¸…å•
- [ ] è§„èŒƒä¸å®ç°ä¸€è‡´æ€§
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] API æ–‡æ¡£å·²æ›´æ–°
- [ ] æ€§èƒ½å½±å“è¯„ä¼°
```

**å®¡æŸ¥é‡ç‚¹**ï¼š
1. è§„èŒƒæ¸…æ™°åº¦ï¼ˆå…¶ä»–äººèƒ½ç†è§£å—ï¼Ÿï¼‰
2. ä»»åŠ¡å®Œæ•´æ€§ï¼ˆæœ‰é—æ¼å—ï¼Ÿï¼‰
3. æµ‹è¯•è¦†ç›–ç‡ï¼ˆå…³é”®è·¯å¾„éƒ½æµ‹äº†å—ï¼Ÿï¼‰
4. å‘åå…¼å®¹æ€§ï¼ˆä¼šç ´åç°æœ‰åŠŸèƒ½å—ï¼Ÿï¼‰

---

### 6. å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ

#### é™·é˜± 1: è§„èŒƒè¿‡äºå®½æ³›
```markdown
âŒ å·®çš„è§„èŒƒ:
"ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿç®¡ç†å¾…åŠäº‹é¡¹"

âœ… å¥½çš„è§„èŒƒ:
"ç”¨æˆ·å¯ä»¥åˆ›å»ºã€æŸ¥çœ‹ã€æ›´æ–°ã€åˆ é™¤è‡ªå·±çš„å¾…åŠäº‹é¡¹ã€‚
æ¯ä¸ªå¾…åŠäº‹é¡¹åŒ…å«æ ‡é¢˜ï¼ˆå¿…å¡«ï¼Œæœ€å¤š200å­—ç¬¦ï¼‰ã€æè¿°ï¼ˆå¯é€‰ï¼Œæœ€å¤š2000å­—ç¬¦ï¼‰ã€
çŠ¶æ€ï¼ˆå¾…åŠ/å®Œæˆï¼‰ã€‚ç”¨æˆ·åªèƒ½çœ‹åˆ°å’Œæ“ä½œè‡ªå·±åˆ›å»ºçš„å¾…åŠäº‹é¡¹ã€‚"
```

#### é™·é˜± 2: å¿½ç•¥è¾¹ç•Œæ¡ä»¶
```markdown
âŒ ç¼ºå°‘è¾¹ç•Œæ¡ä»¶:
"API è¿”å›å¾…åŠäº‹é¡¹åˆ—è¡¨"

âœ… åŒ…å«è¾¹ç•Œæ¡ä»¶:
"API è¿”å›å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µï¼ˆé»˜è®¤20æ¡/é¡µï¼Œæœ€å¤š100æ¡/é¡µï¼‰ã€‚
å¦‚æœè¯·æ±‚é¡µç è¶…å‡ºèŒƒå›´ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚
å¦‚æœç”¨æˆ·æ²¡æœ‰å¾…åŠäº‹é¡¹ï¼Œè¿”å›ç©ºæ•°ç»„è€Œé404ã€‚"
```

#### é™·é˜± 3: ä»»åŠ¡ç²’åº¦ä¸å½“
```markdown
âŒ ä»»åŠ¡å¤ªå¤§:
"Task: å®ç°æ•´ä¸ªå¾…åŠäº‹é¡¹ç³»ç»Ÿ"

âœ… ä»»åŠ¡åˆç†:
"Task 4.1: åˆ›å»º Todo Repositoryï¼ˆæ•°æ®è®¿é—®å±‚ï¼‰"
"Task 4.2: å®ç° Todo Serviceï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰"
"Task 4.3: åˆ›å»º Todo Controllerï¼ˆæ§åˆ¶å™¨å±‚ï¼‰"
```

#### é™·é˜± 4: è¿‡æ—©ä¼˜åŒ–
```markdown
âŒ åœ¨è§„èŒƒé˜¶æ®µè®¨è®ºå®ç°ç»†èŠ‚:
"ä½¿ç”¨ Redis ç¼“å­˜æ‰€æœ‰æŸ¥è¯¢ç»“æœä»¥æé«˜æ€§èƒ½"

âœ… åœ¨è®¡åˆ’é˜¶æ®µå†³å®šæŠ€æœ¯æ–¹æ¡ˆ:
Specification: "API å“åº”æ—¶é—´åº” < 200ms"
Plan: "ä½¿ç”¨ Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼ŒTTL 5åˆ†é’Ÿ"
```

---

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: å¾®æœåŠ¡æ¶æ„é¡¹ç›®

**åœºæ™¯**: æ„å»ºç”µå•†å¹³å°çš„è®¢å•æœåŠ¡

#### Constitution ç‰‡æ®µ
```markdown
# Order Service Constitution

## Microservices Principles
- Service owns its database (no shared databases)
- Communicate via async messaging (RabbitMQ)
- API Gateway for external access
- Circuit breaker for fault tolerance
- Distributed tracing with OpenTelemetry

## Event-Driven Architecture
- Publish domain events to message broker
- Event sourcing for order state changes
- CQRS pattern for read/write separation
```

#### Specification ç‰‡æ®µ
```markdown
## US-1: Place Order

**Acceptance Criteria**:
- [ ] Validate inventory via Product Service (sync HTTP)
- [ ] Reserve inventory via InventoryReserved event
- [ ] Calculate total via Pricing Service (sync HTTP)
- [ ] Process payment via Payment Service (async)
- [ ] Publish OrderPlaced event
- [ ] Implement saga pattern for distributed transaction
- [ ] Rollback on any step failure
```

#### Plan ç‰‡æ®µ
```markdown
## Saga Orchestration
\`\`\`mermaid
sequenceDiagram
    participant Order
    participant Inventory
    participant Pricing
    participant Payment
    participant Event

    Order->>Inventory: Reserve items
    Inventory-->>Order: Reserved
    Order->>Pricing: Calculate total
    Pricing-->>Order: $125.00
    Order->>Payment: Process payment
    Payment-->>Order: Success
    Order->>Event: Publish OrderPlaced

    Note over Order: On failure at any step
    Order->>Inventory: Release reservation
    Order->>Payment: Refund
    Order->>Event: Publish OrderFailed
\`\`\`
```

---

### æ¡ˆä¾‹ 2: å‰ç«¯åº”ç”¨å¼€å‘

**åœºæ™¯**: ä½¿ç”¨ React + TypeScript æ„å»ºä»ªè¡¨æ¿

#### Constitution ç‰‡æ®µ
```markdown
# Dashboard App Constitution

## Frontend Standards
- React 18 with functional components
- TypeScript strict mode
- Component library: shadcn/ui
- State management: Zustand
- Data fetching: TanStack Query (React Query)

## Code Organization
- Feature-based folder structure
- Co-locate tests with components
- Custom hooks for business logic
- Storybook for component documentation

## Performance
- Code splitting with React.lazy
- Image optimization with next/image
- Virtual scrolling for large lists
- Memoization for expensive computations
```

#### Tasks ç‰‡æ®µ
```markdown
## Phase 3: Dashboard Widgets

### Task 3.1: Create base Widget component
**Files**:
- `src/components/Widget/Widget.tsx`
- `src/components/Widget/Widget.stories.tsx`
- `tests/components/Widget.test.tsx`

**Description**: Reusable widget container with loading/error states

**Test**:
- âœ“ Should render children
- âœ“ Should show loading spinner when loading
- âœ“ Should show error message on error
- âœ“ Should support custom header and footer

---

### Task 3.2: Implement Sales Chart widget [P]
**Files**:
- `src/features/dashboard/SalesChart.tsx`
- `src/features/dashboard/useSalesData.ts`
- `tests/features/dashboard/SalesChart.test.tsx`

**Dependencies**: Task 3.1

**Description**: Line chart showing 30-day sales trend using Recharts

**Test**:
- âœ“ Should fetch sales data on mount
- âœ“ Should render chart with correct data points
- âœ“ Should handle empty data gracefully
- âœ“ Should refetch on date range change
```

---

### æ¡ˆä¾‹ 3: CLI å·¥å…·å¼€å‘

**åœºæ™¯**: æ„å»ºä»£ç ç”Ÿæˆå™¨ CLI

#### Specification ç‰‡æ®µ
```markdown
# Feature: Component Generator

## User Story
**As a** React developer
**I want** to generate boilerplate component files
**So that** I can quickly scaffold new components

## CLI Interface
\`\`\`bash
$ codegen component Button

âœ“ Created src/components/Button/Button.tsx
âœ“ Created src/components/Button/Button.test.tsx
âœ“ Created src/components/Button/Button.stories.tsx
âœ“ Created src/components/Button/index.ts

$ codegen component Card --with-styles

âœ“ Created src/components/Card/Card.tsx
âœ“ Created src/components/Card/Card.module.css
âœ“ Created src/components/Card/Card.test.tsx
âœ“ Created src/components/Card/index.ts
\`\`\`

## Options
- `--with-styles`: Include CSS module
- `--type=[class|function]`: Component type (default: function)
- `--stories`: Generate Storybook file
- `--test`: Generate test file (default: true)
```

---

## æ€»ç»“

### SpecKit çš„æ ¸å¿ƒä»·å€¼

<Mermaid chart={`mindmap
  root((SpecKit))
    æé«˜è´¨é‡
      è§„èŒƒé©±åŠ¨å‡å°‘è¯¯è§£
      æµ‹è¯•é©±åŠ¨ä¿è¯æ­£ç¡®æ€§
      ç»“æ„åŒ–æµç¨‹é˜²æ­¢é—æ¼
    æå‡æ•ˆç‡
      AI è‡ªåŠ¨ç”Ÿæˆä»£ç 
      å‡å°‘é‡å¤åŠ³åŠ¨
      å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ
    å¢å¼ºåä½œ
      è§„èŒƒå³æ–‡æ¡£
      æ¸…æ™°çš„èŒè´£è¾¹ç•Œ
      æ˜“äº code review
    æŒç»­æ¼”è¿›
      è§„èŒƒä¿æŒæ›´æ–°
      ä»£ç è‡ªåŠ¨åŒæ­¥
      æŠ€æœ¯å€ºå¯æ§`} client:load />

### é€‚ç”¨åœºæ™¯

âœ… **éå¸¸é€‚åˆ**ï¼š
- æ–°åŠŸèƒ½å¼€å‘
- API æœåŠ¡æ„å»º
- å¾®æœåŠ¡æ¶æ„
- å¤§å‹é‡æ„
- å›¢é˜Ÿåä½œé¡¹ç›®

âš ï¸ **éœ€è¦è°ƒæ•´**ï¼š
- å¿«é€ŸåŸå‹ï¼ˆå¯ç®€åŒ–ä¸º Spec-Firstï¼‰
- ç´§æ€¥ bug ä¿®å¤ï¼ˆå…ˆä¿®å¤å†è¡¥è§„èŒƒï¼‰
- å®éªŒæ€§é¡¹ç›®ï¼ˆè§„èŒƒå¯ä»¥æ›´è½»é‡ï¼‰

âŒ **ä¸å¤ªé€‚åˆ**ï¼š
- ä¸€æ¬¡æ€§è„šæœ¬
- ç®€å•é…ç½®ä¿®æ”¹
- æ–‡æ¡£æ›´æ–°

### å­¦ä¹ è·¯å¾„å»ºè®®

<Mermaid chart={`graph TD
    Start[å¼€å§‹å­¦ä¹ ] --> Basic[åŸºç¡€é˜¶æ®µ]
    Basic --> |1å‘¨| Practice1[å®è·µå°é¡¹ç›®]
    Practice1 --> Intermediate[è¿›é˜¶é˜¶æ®µ]
    Intermediate --> |2-4å‘¨| Practice2[å®è·µä¸­å‹é¡¹ç›®]
    Practice2 --> Advanced[é«˜çº§é˜¶æ®µ]
    Advanced --> Master[ç²¾é€š]

    Basic --> B1[ç†è§£ SDD ç†å¿µ]
    Basic --> B2[å­¦ä¹  6 ä¸ªæ ¸å¿ƒå‘½ä»¤]
    Basic --> B3[å®Œæˆ Todo API ç¤ºä¾‹]

    Intermediate --> I1[æŒæ¡ä»»åŠ¡åˆ†è§£æŠ€å·§]
    Intermediate --> I2[å­¦ä¹  TDD å®è·µ]
    Intermediate --> I3[å°è¯•ä¸åŒæŠ€æœ¯æ ˆ]

    Advanced --> A1[Spec-as-Source å®è·µ]
    Advanced --> A2[å›¢é˜Ÿæµç¨‹é›†æˆ]
    Advanced --> A3[è‡ªå®šä¹‰æ¨¡æ¿å’Œå‘½ä»¤]

    style Start fill:#e1f5ff
    style Master fill:#95e1d3`} client:load />

### è¿›ä¸€æ­¥å­¦ä¹ èµ„æº

- **å®˜æ–¹æ–‡æ¡£**: [speckit.org](https://speckit.org)
- **GitHub ä»“åº“**: [github.com/github/spec-kit](https://github.com/github/spec-kit)
- **ç¤ºä¾‹é¡¹ç›®**: [github.com/github/spec-kit/tree/main/examples](https://github.com/github/spec-kit/tree/main/examples)
- **ç¤¾åŒºè®¨è®º**: [GitHub Discussions](https://github.com/github/spec-kit/discussions)
- **è§†é¢‘æ•™ç¨‹**: [Microsoft Developer Blog](https://developer.microsoft.com/blog/spec-driven-development-spec-kit)

---

## é™„å½•

### A. å‘½ä»¤é€ŸæŸ¥è¡¨

| å‘½ä»¤ | ç”¨é€” | è¾“å‡ºæ–‡ä»¶ |
|------|------|----------|
| `specify init` | åˆå§‹åŒ–é¡¹ç›® | `.speckit/` ç›®å½• |
| `specify check` | æ£€æŸ¥ç¯å¢ƒ | ç»ˆç«¯è¾“å‡º |
| `/speckit.constitution` | å®šä¹‰é¡¹ç›®åŸåˆ™ | `constitution.md` |
| `/speckit.specify` | ç¼–å†™åŠŸèƒ½è§„èŒƒ | `specification.md` |
| `/speckit.clarify` | æ¾„æ¸…éœ€æ±‚ | æ›´æ–° `specification.md` |
| `/speckit.plan` | åˆ¶å®šæŠ€æœ¯æ–¹æ¡ˆ | `plan.md` |
| `/speckit.tasks` | åˆ†è§£ä»»åŠ¡ | `tasks.md` |
| `/speckit.implement` | æ‰§è¡Œå®ç° | æºä»£ç  + æµ‹è¯• |
| `/speckit.analyze` | ä¸€è‡´æ€§æ£€æŸ¥ | ç»ˆç«¯è¾“å‡º |
| `/speckit.checklist` | è´¨é‡æ¸…å• | `checklist.md` |

### B. å¸¸è§é—®é¢˜

**Q: SpecKit æ˜¯å¦æ”¯æŒéè‹±è¯­ï¼Ÿ**
A: æ”¯æŒã€‚è§„èŒƒæ–‡æ¡£å¯ä»¥ä½¿ç”¨ä»»ä½•è¯­è¨€ï¼ŒAI åŠ©æ‰‹ä¼šæ ¹æ®å…¶è®­ç»ƒæ•°æ®ç†è§£ã€‚

**Q: æ˜¯å¦å¿…é¡»ä½¿ç”¨æ‰€æœ‰å‘½ä»¤ï¼Ÿ**
A: ä¸æ˜¯ã€‚æ ¸å¿ƒæµç¨‹æ˜¯ specify â†’ plan â†’ tasks â†’ implementï¼Œå…¶ä»–å‘½ä»¤å¯é€‰ã€‚

**Q: å¦‚ä½•å¤„ç†é—ç•™é¡¹ç›®ï¼Ÿ**
A: å¯ä»¥é€æ­¥å¼•å…¥ã€‚å…ˆä¸ºæ–°åŠŸèƒ½ç¼–å†™è§„èŒƒï¼Œå†é€æ¸è¦†ç›–ç°æœ‰ä»£ç ã€‚

**Q: SpecKit ä¸ä¼ ç»Ÿ PRD çš„åŒºåˆ«ï¼Ÿ**
A: PRD æ˜¯ä¸€æ¬¡æ€§æ–‡æ¡£ï¼ŒSpecKit çš„è§„èŒƒæ˜¯å¯æ‰§è¡Œçš„ã€æŒç»­æ¼”è¿›çš„æºæ–‡ä»¶ã€‚

**Q: æ˜¯å¦å¯ä»¥è‡ªå®šä¹‰å‘½ä»¤ï¼Ÿ**
A: å¯ä»¥ã€‚ä¿®æ”¹ `.speckit/commands/` ç›®å½•ä¸‹çš„å‘½ä»¤æ–‡ä»¶å³å¯ã€‚

### C. å·¥å…·å¯¹æ¯”

| ç‰¹æ€§ | SpecKit | ä¼ ç»Ÿå¼€å‘ | ä½ä»£ç å¹³å° |
|------|---------|----------|------------|
| çµæ´»æ€§ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­ |
| å¼€å‘é€Ÿåº¦ | â­â­â­â­ | â­â­ | â­â­â­â­â­ |
| ä»£ç è´¨é‡ | â­â­â­â­â­ | â­â­â­ | â­â­â­ |
| å­¦ä¹ æ›²çº¿ | â­â­â­ | â­â­â­â­ | â­â­ |
| AI é›†æˆ | â­â­â­â­â­ | â­â­ | â­â­â­ |
| å¯ç»´æŠ¤æ€§ | â­â­â­â­â­ | â­â­â­ | â­â­â­ |

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-01-15
**è´¡çŒ®è€…**: SpecKit Community

---

*æœ¬æ–‡æ¡£åŸºäº SpecKit å®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºæœ€ä½³å®è·µç¼–å†™ï¼ŒæŒç»­æ›´æ–°ä¸­ã€‚*
